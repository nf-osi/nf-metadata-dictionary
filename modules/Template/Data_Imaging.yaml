classes:
  ImagingAssayTemplate:
    annotations:
      required: false
      requiresComponent: ''
      templateFor:
        dataType:
        - image
        assay:
        - 3D imaging
        - high content screen
        - high frequency ultrasound
        - in vivo bioluminescence
        - gel filtration chromatography
        - laser speckle imaging
        - photograph
        - positron emission tomography
        - spatial frequency domain imaging
        - western blot
      dataGranularity: specimen-level
    description: General template for describing imaging data.
    is_a: BiologicalAssayDataTemplate
    slot_usage:
      assay:
        range: ImagingAssayEnum
      platform:
        any_of:
        - range: MicroscopyImagingPlatformEnum
        - range: MRIPlatformEnum
        - range: ImagingSystemPlatformEnum
      fileFormat:
        range: ImagingFileFormatEnum
      dataType:
        ifabsent: string(image)
    slots:
    - platform
    - assayTarget
    - auxiliaryAsset

  MicroscopyAssayTemplate:
    annotations:
      required: false
      requiresComponent: ''
      templateFor:
        dataType:
        - image
        assay:
        - 3D confocal imaging
        - 3D electron microscopy
        - atomic force microscopy
        - brightfield microscopy
        - high content screen
        - phase-contrast microscopy
        - traction force microscopy
      dataGranularity: specimen-level
    close_mappings:
    - htan:ImagingLevel2
    description: Template for data from a microscopy data.
    is_a: ImagingAssayTemplate
    slots:
    - parentSpecimenID
    - specimenID
    - aliquotID
    - objective
    - nominalMagnification
    - lensAperture
    - workingDistance
    - workingDistanceUnit
    - immersion
    slot_usage:
      assay:
        range: ImagingAssayEnum
      platform:
        range: MicroscopyImagingPlatformEnum
      fileFormat:
        range: ImagingFileFormatEnum
      dataType:
        ifabsent: string(image)
    rules:
    - description: If workingDistance is provided, workingDistanceUnit must be provided
      preconditions:
        slot_conditions:
          workingDistance:
            value_presence: PRESENT
      postconditions:
        slot_conditions:
          workingDistanceUnit:
            value_presence: PRESENT
    - description: If aliquotID is provided, specimenID must be provided
      preconditions:
        slot_conditions:
          aliquotID:
            value_presence: PRESENT
      postconditions:
        slot_conditions:
          specimenID:
            value_presence: PRESENT
    - description: If parentSpecimenID is provided, specimenID must be provided
      preconditions:
        slot_conditions:
          parentSpecimenID:
            value_presence: PRESENT
      postconditions:
        slot_conditions:
          specimenID:
            value_presence: PRESENT

  ImmunoMicroscopyTemplate:
    annotations:
      required: false
      requiresComponent: ''
      templateFor:
        dataType:
        - image
        assay:
        - immunofluorescence
        - immunohistochemistry
      dataGranularity: specimen-level
    description: Template for describing immunofluorescence or immunohistochemistry
      images.
    is_a: MicroscopyAssayTemplate
    slots:
    - antibodyID
    slot_usage:
      assay:
        range: ImagingAssayEnum
      platform:
        range: MicroscopyImagingPlatformEnum
      fileFormat:
        range: ImagingFileFormatEnum

  MRIAssayTemplate:
    annotations:
      required: false
      requiresComponent: ''
      templateFor:
        dataType:
        - image
        assay:
        - conventional MRI
        - functional MRI
      dataGranularity: specimen-level
    description: Template for describing MRI data.
    is_a: ImagingAssayTemplate
    slots:
    - bodySite
    - MRISequence
    - experimentalCondition
    - experimentalTimepoint
    - timepointUnit
    slot_usage:
      assay:
        range: ImagingAssayEnum
      platform:
        range: MRIPlatformEnum
      fileFormat:
        range: ImagingFileFormatEnum
      dataType:
        ifabsent: string(image)
    rules:
    - description: If experimentalTimepoint is provided, timepointUnit must be provided
      preconditions:
        slot_conditions:
          experimentalTimepoint:
            value_presence: PRESENT
      postconditions:
        slot_conditions:
          timepointUnit:
            value_presence: PRESENT
